From eaad2e2dbc79bd5a830fbf66e54d1d6fa80110d4 Mon Sep 17 00:00:00 2001
From: Nanhumly <admin@warbler.cc>
Date: Wed, 18 Oct 2023 14:38:37 +0000
Subject: [PATCH] Revert "libc: libstdc++: Rename vendor variant to
 libstdc++_vendor"

This reverts commit c22e3ad43ca5e8a80f2849372efbe8493adbf098.

Change-Id: Idc92e4464ac57f865eaba942d0cfd8f7640631ad
Signed-off-by: Nanhumly <admin@warbler.cc>
---
 libc/Android.bp | 16 +++-------------
 1 file changed, 3 insertions(+), 13 deletions(-)

diff --git a/libc/Android.bp b/libc/Android.bp
index e84efb3e9..dab937dcf 100644
--- a/libc/Android.bp
+++ b/libc/Android.bp
@@ -2081,7 +2081,7 @@ cc_library_headers {
 // libstdc++.so and libstdc++.a.
 // ========================================================
 
-cc_defaults {
+cc_library {
     defaults: ["libc_defaults"],
     include_dirs: ["bionic/libstdc++/include"],
     srcs: [
@@ -2089,9 +2089,10 @@ cc_defaults {
         "bionic/__cxa_pure_virtual.cpp",
         "bionic/new.cpp",
     ],
-    name: "libstdc++_defaults",
+    name: "libstdc++",
     static_ndk_lib: true,
     static_libs: ["libasync_safe"],
+    vendor_available: true,
 
     static: {
         system_shared_libs: [],
@@ -2129,17 +2130,6 @@ cc_defaults {
     },
 }
 
-cc_library {
-    name: "libstdc++",
-    defaults: ["libstdc++_defaults"],
-}
-
-cc_library_shared {
-    name: "libstdc++_vendor",
-    defaults: ["libstdc++_defaults"],
-    vendor: true,
-}
-
 genrule {
     name: "libstdc++.arm.map",
     out: ["libstdc++.arm.map.txt"],
-- 
2.25.1

